/* ===== Responsive, high-contrast UI for Quick Shot ===== */

/* [MOD:RESPONSIVE_TYPE] — 화면 크기에 따라 자동으로 커지는 글자/여백 */
:root{
  --text:#eef2f7; 
  --panel:rgba(0,0,0,.35);
  --panelBorder:rgba(255,255,255,.18);
  --shadow:rgba(0,0,0,.50);
  --accent:#ff6a3d;

  /* 폰트 사이즈: clamp(min, fluid, max) — vh 기준으로 부드럽게 커짐 */
  --fs-badge:  clamp(13px, 1.6vh, 22px);
  --fs-toast:  clamp(22px, 3.4vh, 44px);
  --fs-h1:     clamp(22px, 4.6vh, 56px);
  --fs-body:   clamp(13px, 2.2vh, 22px);
  --fs-button: clamp(13px, 2.2vh, 22px);

  /* 여백/라운드도 스케일 */
  --pad-s:  clamp(6px, 0.9vh, 12px);
  --pad-m:  clamp(10px, 1.6vh, 18px);
  --gap-hud: clamp(8px, 1.2vh, 18px);
  --hud-top: clamp(8px, 1.4vh, 20px);
  --radius: clamp(10px, 1.6vh, 18px);
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0; 
  background:#0a0f1a; 
  color:var(--text); 
  overflow:hidden;
  font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Helvetica,Arial,sans-serif;
}

/* 캔버스: 세로(높이) 100vh 고정. 좌우는 잘려도/여백 가능 */
#game{
  position:fixed; 
  left:50%; 
  top:0; 
  transform:translateX(-50%);
  height:100vh; 
  display:block;
  touch-action:none; 
  -webkit-user-select:none; 
  user-select:none;
}

/* ===== HUD (타이머/점수) ===== */
#hud{
  position:fixed; 
  left:0; right:0; 
  top:var(--hud-top);
  display:flex; 
  gap:var(--gap-hud); 
  justify-content:center; 
  pointer-events:none;
}

.badge{
  pointer-events:none;
  padding: var(--pad-s) var(--pad-m);
  border-radius:999px; 
  font-weight:800; 
  font-size:var(--fs-badge);
  background:var(--panel); 
  border:1px solid var(--panelBorder);
  box-shadow:0 10px 24px var(--shadow); 
  letter-spacing:.2px; 
  backdrop-filter: blur(6px);

  /* [MOD:CONTRAST] — 흰 글자 + 그림자 */
  color:#fff;
  text-shadow:0 2px 8px rgba(0,0,0,.55);
}

/* ===== 중앙 토스트(Goal/Fail) ===== */
#toast{
  position:fixed; 
  left:50%; top:46%; 
  transform:translate(-50%,-50%);
  padding: var(--pad-s) var(--pad-m); 
  font-weight:900; 
  font-size:var(--fs-toast); 
  letter-spacing:.6px;

  /* [MOD:CONTRAST] */
  color:#fff; 
  text-shadow:0 3px 12px rgba(0,0,0,.6);

  opacity:0; 
  transition:.22s ease;
}
#toast.show{ opacity:1 }

/* ===== 오버레이(설명/TIME UP) ===== */
#overlay{
  position:fixed; 
  inset:0; 
  display:flex; 
  flex-direction:column; 
  align-items:center; 
  justify-content:center;
  background:linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.35));
  text-align:center; 
  padding:var(--pad-m); 
  opacity:0; 
  visibility:hidden; 
  transition:.25s ease;
}
#overlay.visible{ opacity:1; visibility:visible }

#overlay h1{
  margin:.2rem 0 .5rem; 
  font-size:var(--fs-h1); 
  line-height:1.1;

  /* [MOD:CONTRAST] */
  color:#fff; 
  text-shadow:0 3px 12px rgba(0,0,0,.6);
}

#overlay p{
  font-size:var(--fs-body); 
  opacity:.95; 
  line-height:1.6; 
  margin-bottom:var(--pad-m);

  /* [MOD:CONTRAST] */
  color:#fff; 
  text-shadow:0 3px 12px rgba(0,0,0,.6);
}

/* ===== 버튼(시작/재시작) ===== */
button{
  appearance:none; 
  border:0; 
  cursor:pointer; 
  font-weight:900;
  border-radius:var(--radius); 
  padding: var(--pad-m) var(--pad-m); 
  font-size:var(--fs-button);
  background:var(--accent); 
  color:#161616; 
  box-shadow:0 10px 24px var(--shadow);
}
button:active{ transform:translateY(1px) }
#restart{ position:fixed; right:14px; bottom:14px; }
.hidden{ display:none }

/* ===== 강제 화이트(모바일/데스크톱 모두) ===== */
#overlay, #overlay *{
  color:#fff !important;
  text-shadow:0 3px 12px rgba(0,0,0,.6) !important;
}
#hud .badge{
  color:#fff !important;
  text-shadow:0 2px 8px rgba(0,0,0,.55) !important;
}
#toast{
  color:#fff !important;
  text-shadow:0 3px 12px rgba(0,0,0,.6) !important;
}

/* 모바일 폰트 자동 조정/색상 개입 최소화 */
html, body{
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
}
@supports (-webkit-touch-callout:none){
  #overlay, #overlay *, #hud .badge, #toast{
    -webkit-text-fill-color:#fff !important;
  }
}

/* ===== 초대형 스크린 톤업(선택) ===== */
@media (min-width: 1440px) and (min-height: 900px){
  :root{
    --fs-h1:    clamp(24px, 5.2vh, 64px);
    --fs-toast: clamp(24px, 4.0vh, 56px);
    --fs-badge: clamp(14px, 2.0vh, 26px);
  }
}
